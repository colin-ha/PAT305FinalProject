<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>PAT 305 Composition Quest Demo</title>
    <link rel="stylesheet" href="style.css"/>
</head>

<body>
<div id="app">
    <div class="visual" :class="active" :style="{'--fade-duration': fadeDuration + 'ms'}">
        <div class="sky"></div>
        <div class="sun"></div>
        <div class="ocean">
            <div class="wave w1"></div>
            <div class="wave w2"></div>
            <div class="wave w3"></div>
        </div>

        <!-- moved sea-life here so it starts at the visual's bottom (atop the beach) -->
        <div class="sea-life" aria-hidden="true">
            <!-- algae anchored at seabed -->
            <div class="algae a1"></div>
            <div class="algae a2"></div>
            <div class="algae a3"></div>
            <div class="algae a4"></div>

            <!-- fish that swim across when underwater -->
            <div class="fish f1"></div>
            <div class="fish f2"></div>
            <div class="fish f3"></div>

            <!-- bubbles rising from the seabed -->
            <div class="bubbles">
                <span class="bubble b1"></span>
                <span class="bubble b2"></span>
                <span class="bubble b3"></span>
                <span class="bubble b4"></span>
                <span class="bubble b5"></span>
            </div>
        </div>

        <div class="beach"></div>

        <div class="label">{{ active === 'above' ? 'SURFACE' : 'UNDERWATER' }}</div>

        <!-- moved controls to sit directly below the label -->
        <div class="controls controls--center">
            <button class="big" @click="crossfade">Switch</button>
            <button class="big" @click="togglePlay">{{ isPlaying ? 'Pause' : 'Play' }}</button>
        </div>

        <!-- progress slider: scrub the current active song -->
        <div class="progress-wrapper">
            <div class="progress" aria-hidden="false">
                <input
                        type="range"
                        min="0"
                        :max="progressMax"
                        step="0.01"
                        v-model.number="progress"
                        @input="onScrub"
                        @change="onScrubEnd"
                        :disabled="!progressEnabled"
                />
                <div class="times">
                    <span class="cur">{{ formatTime(progress) }}</span>
                    <span class="sep">/</span>
                    <span class="tot">{{ formatTime(progressMax) }}</span>
                </div>
            </div>
        </div>

        <div class="equalizer" :class="{ playing: isPlaying }">
            <span v-for="n in 5" :key="n" :style="{ animationDelay: (n*0.1)+'s' }"></span>
        </div>

        <div class="footer">
            <p>Copyright &copy; 2025 Colin Harris</p>
            <p>Website made with the assistance of artificial intelligence</p>
        </div>
    </div>

</div>

<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
<script src="script.js"></script>

</body>
</html>